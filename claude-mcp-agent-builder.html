<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude + MCP Agent æ¡†æ¶è¨­è¨ˆå·¥å…·</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8f7f4;
            min-height: 100vh;
            color: #4a4a4a;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: #00796b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Noto Sans TC', sans-serif;
            font-size: 14px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s;
            z-index: 1000;
        }

        .back-button:hover {
            background-color: #009688;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            margin-top: 60px;
            color: #4a4a4a;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #00796b;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .builder-panel, .preview-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .panel-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #4a5568;
            border-bottom: 3px solid #00796b;
            padding-bottom: 10px;
        }

        .framework-visual {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .visual-flow {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }

        .flow-step {
            background: linear-gradient(45deg, #009688, #00796b);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            flex: 1;
            min-width: 120px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .flow-step:hover {
            transform: translateY(-2px);
        }

        .flow-arrow {
            font-size: 1.5rem;
            color: #00796b;
            font-weight: bold;
        }

        .section {
            margin-bottom: 25px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
        }

        .section-header {
            background: #f7fafc;
            padding: 15px;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .section-header:hover {
            background: #edf2f7;
        }

        .section-header h3 {
            color: #2d3748;
            font-size: 1.1rem;
        }

        .section-content {
            padding: 20px;
            display: none;
        }

        .section.active .section-content {
            display: block;
        }

        .section.active .section-header {
            background: #00796b;
            color: white;
        }

        .option-group {
            margin-bottom: 15px;
        }

        .option-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #4a5568;
        }

        .checkbox-group, .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .checkbox-item, .radio-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox-item:hover, .radio-item:hover {
            border-color: #00796b;
            background: #f7fafc;
        }

        .checkbox-item input, .radio-item input {
            margin-right: 8px;
        }

        .text-input, .textarea-input, .select-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .text-input:focus, .textarea-input:focus, .select-input:focus {
            outline: none;
            border-color: #00796b;
            box-shadow: 0 0 0 3px rgba(0, 121, 107, 0.1);
        }

        .textarea-input {
            resize: vertical;
            min-height: 80px;
        }

        .generate-btn {
            background: linear-gradient(45deg, #009688, #00796b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            transition: transform 0.3s ease;
            font-family: 'Noto Sans TC', sans-serif;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 121, 107, 0.3);
        }

        .prompt-output {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
            line-height: 1.6;
        }

        .copy-btn {
            background: #38a169;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.3s ease;
        }

        .copy-btn:hover {
            background: #2f855a;
        }

        .tips {
            background: #ebf8ff;
            border-left: 4px solid #3182ce;
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
        }

        .tips h4 {
            color: #2c5282;
            margin-bottom: 8px;
        }

        .tips ul {
            color: #2d3748;
            padding-left: 20px;
        }

        @media (max-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .visual-flow {
                flex-direction: column;
            }
            
            .flow-arrow {
                transform: rotate(90deg);
            }
        }

        .toggle-icon {
            transition: transform 0.3s ease;
        }

        .section.active .toggle-icon {
            transform: rotate(180deg);
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-button">
        â† è¿”å›è‡³å‰é 
    </a>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– Claude + MCP Agent æ¡†æ¶è¨­è¨ˆå·¥å…·</h1>
            <p>è¦–è¦ºåŒ–è¨­è¨ˆä½ çš„AI Agentï¼Œç”Ÿæˆå°ˆæ¥­çš„Promptç­–ç•¥</p>
        </div>

        <!-- æ¡†æ¶è¦–è¦ºåŒ– -->
        <div class="framework-visual">
            <h3 style="text-align: center; margin-bottom: 20px; color: #4a5568;">Claude-based AI Agent æ¶æ§‹æµç¨‹</h3>
            <div class="visual-flow">
                <div class="flow-step">
                    <div style="font-weight: bold;">ä»»å‹™åˆ†æ</div>
                    <div style="font-size: 0.8rem; margin-top: 5px;">ç›®æ¨™ç†è§£<br>å·¥å…·éœ€æ±‚</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div style="font-weight: bold;">è¦åŠƒåŸ·è¡Œ</div>
                    <div style="font-size: 0.8rem; margin-top: 5px;">æ­¥é©Ÿå®‰æ’<br>å·¥å…·é¸æ“‡</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div style="font-weight: bold;">MCPèª¿ç”¨</div>
                    <div style="font-size: 0.8rem; margin-top: 5px;">å·¥å…·å”èª¿<br>æ•¸æ“šæ”¶é›†</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div style="font-weight: bold;">çµæœæ•´åˆ</div>
                    <div style="font-size: 0.8rem; margin-top: 5px;">ä¿¡æ¯åˆæˆ<br>æœ€çµ‚è¼¸å‡º</div>
                </div>
            </div>
        </div>

        <div class="main-layout">
            <!-- å»ºæ§‹é¢æ¿ -->
            <div class="builder-panel">
                <h2 class="panel-title">ğŸ› ï¸ Agent é…ç½®å»ºæ§‹å™¨</h2>
                
                <!-- Agent åŸºæœ¬è¨­å®š -->
                <div class="section active">
                    <div class="section-header">
                        <h3>ğŸ¯ Agent åŸºæœ¬è¨­å®š</h3>
                        <span class="toggle-icon">â–¼</span>
                    </div>
                    <div class="section-content">
                        <div class="option-group">
                            <label>Agent åç¨±</label>
                            <input type="text" class="text-input" id="agentName" placeholder="ä¾‹å¦‚ï¼šç ”ç©¶åŠ©æ‰‹ã€å•†å‹™åŠ©ç†ã€æ•¸æ“šåˆ†æå¸«">
                        </div>
                        <div class="option-group">
                            <label>Agent é¡å‹</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" name="agentType" value="research" id="research">
                                    <label for="research">ğŸ” ç ”ç©¶å‹Agent</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" name="agentType" value="business" id="business">
                                    <label for="business">ğŸ’¼ æ¥­å‹™å‹Agent</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" name="agentType" value="analysis" id="analysis">
                                    <label for="analysis">ğŸ“Š åˆ†æå‹Agent</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" name="agentType" value="creative" id="creative">
                                    <label for="creative">ğŸ¨ å‰µæ„å‹Agent</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" name="agentType" value="custom" id="custom">
                                    <label for="custom">âš™ï¸ è‡ªå®šç¾©Agent</label>
                                </div>
                            </div>
                        </div>
                        <div class="option-group">
                            <label>ä¸»è¦è·è²¬</label>
                            <textarea class="textarea-input" id="agentRole" placeholder="æè¿°é€™å€‹Agentçš„ä¸»è¦è·è²¬å’Œå°ˆé•·é ˜åŸŸ..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- MCPå·¥å…·é¸æ“‡ -->
                <div class="section">
                    <div class="section-header">
                        <h3>ğŸ”§ MCP å·¥å…·é…ç½®</h3>
                        <span class="toggle-icon">â–¼</span>
                    </div>
                    <div class="section-content">
                        <div class="option-group">
                            <label>å¯ç”¨çš„MCPå·¥å…· (å¤šé¸)</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="webSearch" value="web_search">
                                    <label for="webSearch">ğŸŒ ç¶²è·¯æœç´¢ (web_search)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="driveSearch" value="google_drive_search">
                                    <label for="driveSearch">ğŸ“ æ–‡ä»¶æœç´¢ (google_drive)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="gmail" value="gmail_tools">
                                    <label for="gmail">ğŸ“§ éƒµä»¶è™•ç† (gmail)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="calendar" value="calendar_tools">
                                    <label for="calendar">ğŸ“… æ—¥ç¨‹ç®¡ç† (calendar)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="analysis" value="analysis_tool">
                                    <label for="analysis">ğŸ“Š æ•¸æ“šåˆ†æ (analysis)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="customTool" value="custom">
                                    <label for="customTool">âš™ï¸ è‡ªå®šç¾©å·¥å…·</label>
                                </div>
                            </div>
                        </div>
                        <div class="option-group">
                            <label>è‡ªå®šç¾©å·¥å…· (å¦‚æœ‰)</label>
                            <textarea class="textarea-input" id="customTools" placeholder="åˆ—å‡ºå…¶ä»–å¯ç”¨çš„MCPå·¥å…·ï¼Œæ¯è¡Œä¸€å€‹..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- åŸ·è¡Œç­–ç•¥ -->
                <div class="section">
                    <div class="section-header">
                        <h3>ğŸ¯ åŸ·è¡Œç­–ç•¥è¨­å®š</h3>
                        <span class="toggle-icon">â–¼</span>
                    </div>
                    <div class="section-content">
                        <div class="option-group">
                            <label>åŸ·è¡Œæ¨¡å¼</label>
                            <select class="select-input" id="executionMode">
                                <option value="sequential">é †åºåŸ·è¡Œ - æŒ‰æ­¥é©Ÿä¾åºåŸ·è¡Œ</option>
                                <option value="parallel">ä¸¦è¡ŒåŸ·è¡Œ - åŒæ™‚èª¿ç”¨å¤šå·¥å…·</option>
                                <option value="adaptive">è‡ªé©æ‡‰ - æ ¹æ“šçµæœå‹•æ…‹èª¿æ•´</option>
                                <option value="iterative">è¿­ä»£æ·±åŒ– - é€æ­¥æ·±å…¥åˆ†æ</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label>éŒ¯èª¤è™•ç†ç­–ç•¥</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="retry" value="retry">
                                    <label for="retry">ğŸ”„ è‡ªå‹•é‡è©¦</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="fallback" value="fallback">
                                    <label for="fallback">ğŸ”€ å‚™ç”¨æ–¹æ¡ˆ</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="notify" value="notify">
                                    <label for="notify">ğŸ’¬ ç”¨æˆ¶é€šçŸ¥</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="graceful" value="graceful">
                                    <label for="graceful">ğŸ›¡ï¸ å„ªé›…é™ç´š</label>
                                </div>
                            </div>
                        </div>
                        <div class="option-group">
                            <label>è¼¸å‡ºæ ¼å¼åå¥½</label>
                            <select class="select-input" id="outputFormat">
                                <option value="structured">çµæ§‹åŒ–å ±å‘Š</option>
                                <option value="conversational">å°è©±å¼å›æ‡‰</option>
                                <option value="bullet">æ¢åˆ—å¼ç¸½çµ</option>
                                <option value="detailed">è©³ç´°åˆ†æ</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- è‡ªå®šç¾©éœ€æ±‚ -->
                <div class="section">
                    <div class="section-header">
                        <h3>âœ¨ è‡ªå®šç¾©éœ€æ±‚</h3>
                        <span class="toggle-icon">â–¼</span>
                    </div>
                    <div class="section-content">
                        <div class="option-group">
                            <label>ç‰¹æ®ŠæŒ‡ä»¤</label>
                            <textarea class="textarea-input" id="specialInstructions" placeholder="æ·»åŠ ä»»ä½•ç‰¹æ®Šçš„è¡Œç‚ºæŒ‡ä»¤æˆ–é™åˆ¶..."></textarea>
                        </div>
                        <div class="option-group">
                            <label>ç›®æ¨™ä»»å‹™ç¯„ä¾‹</label>
                            <textarea class="textarea-input" id="taskExamples" placeholder="æä¾›ä¸€äº›é€™å€‹Agentéœ€è¦è™•ç†çš„å…¸å‹ä»»å‹™ç¯„ä¾‹..."></textarea>
                        </div>
                        <div class="option-group">
                            <label>æ€§æ ¼è¨­å®š</label>
                            <select class="select-input" id="personality">
                                <option value="professional">å°ˆæ¥­æ­£å¼</option>
                                <option value="friendly">å‹å–„è¦ªåˆ‡</option>
                                <option value="analytical">åˆ†æç†æ€§</option>
                                <option value="creative">å‰µæ„æ´»æ½‘</option>
                                <option value="concise">ç°¡æ½”æ˜ç­</option>
                            </select>
                        </div>
                    </div>
                </div>

                <button class="generate-btn" onclick="generatePrompt()">ğŸš€ ç”Ÿæˆ Agent Prompt</button>
            </div>

            <!-- é è¦½é¢æ¿ -->
            <div class="preview-panel">
                <h2 class="panel-title">ğŸ“‹ ç”Ÿæˆçš„ Prompt é è¦½</h2>
                <div id="promptPreview" class="prompt-output">
é»æ“Šã€Œç”Ÿæˆ Agent Promptã€æŒ‰éˆ•ä¾†æŸ¥çœ‹ä½ çš„è‡ªå®šç¾© AI Agent æç¤ºè©...

é€™è£¡å°‡é¡¯ç¤ºï¼š
â€¢ å®Œæ•´çš„ç³»çµ±æç¤ºè©
â€¢ å·¥å…·ä½¿ç”¨æŒ‡å—  
â€¢ åŸ·è¡Œæµç¨‹æ¡†æ¶
â€¢ éŒ¯èª¤è™•ç†ç­–ç•¥
                </div>
                <button class="copy-btn" onclick="copyPrompt()">ğŸ“‹ è¤‡è£½ Prompt</button>
                
                <div class="tips">
                    <h4>ğŸ’¡ ä½¿ç”¨æç¤º</h4>
                    <ul>
                        <li>è¤‡è£½ç”Ÿæˆçš„promptç›´æ¥åœ¨Claudeä¸­ä½¿ç”¨</li>
                        <li>å¯ä»¥æ ¹æ“šå¯¦éš›éœ€æ±‚é€²ä¸€æ­¥èª¿æ•´promptå…§å®¹</li>
                        <li>å»ºè­°å…ˆç”¨ç°¡å–®ä»»å‹™æ¸¬è©¦Agentæ•ˆæœ</li>
                        <li>æ ¹æ“šä½¿ç”¨ç¶“é©—æŒçºŒå„ªåŒ–promptè¨­è¨ˆ</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // åˆ‡æ›å€æ®µé¡¯ç¤º
        document.querySelectorAll('.section-header').forEach(header => {
            header.addEventListener('click', () => {
                const section = header.parentElement;
                const isActive = section.classList.contains('active');
                
                // é—œé–‰å…¶ä»–å€æ®µ
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                
                // åˆ‡æ›ç•¶å‰å€æ®µ
                if (!isActive) {
                    section.classList.add('active');
                }
            });
        });

        // ç”ŸæˆPromptåŠŸèƒ½
        function generatePrompt() {
            const agentName = document.getElementById('agentName').value || 'æ™ºèƒ½åŠ©æ‰‹';
            const agentType = document.querySelector('input[name="agentType"]:checked')?.value || 'custom';
            const agentRole = document.getElementById('agentRole').value || 'å”åŠ©ç”¨æˆ¶å®Œæˆå„ç¨®ä»»å‹™';
            
            // æ”¶é›†é¸ä¸­çš„MCPå·¥å…·
            const selectedTools = [];
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                if (cb.value !== 'custom') {
                    selectedTools.push(cb.value);
                }
            });
            
            const customTools = document.getElementById('customTools').value;
            const executionMode = document.getElementById('executionMode').value;
            const outputFormat = document.getElementById('outputFormat').value;
            const specialInstructions = document.getElementById('specialInstructions').value;
            const taskExamples = document.getElementById('taskExamples').value;
            const personality = document.getElementById('personality').value;

            // æ”¶é›†éŒ¯èª¤è™•ç†ç­–ç•¥
            const errorStrategies = [];
            document.querySelectorAll('input[value="retry"]:checked, input[value="fallback"]:checked, input[value="notify"]:checked, input[value="graceful"]:checked').forEach(cb => {
                errorStrategies.push(cb.value);
            });

            const prompt = generateAgentPrompt({
                agentName,
                agentType,
                agentRole,
                selectedTools,
                customTools,
                executionMode,
                outputFormat,
                specialInstructions,
                taskExamples,
                personality,
                errorStrategies
            });

            document.getElementById('promptPreview').textContent = prompt;
        }

        function generateAgentPrompt(config) {
            const typeTemplates = {
                research: 'ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„ç ”ç©¶å‹Agentï¼Œæ“…é•·ä¿¡æ¯æ”¶é›†ã€åˆ†æå’Œç¶œåˆã€‚',
                business: 'ä½ æ˜¯ä¸€å€‹é«˜æ•ˆçš„æ¥­å‹™å‹Agentï¼Œå°ˆæ³¨æ–¼å•†å‹™æµç¨‹å„ªåŒ–å’Œä»»å‹™åŸ·è¡Œã€‚',
                analysis: 'ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„åˆ†æå‹Agentï¼Œå°ˆé•·æ–¼æ•¸æ“šè™•ç†ã€åˆ†æå’Œæ´å¯ŸæŒ–æ˜ã€‚',
                creative: 'ä½ æ˜¯ä¸€å€‹å‰µæ„å‹Agentï¼Œèƒ½å¤ æä¾›å‰µæ–°æ€ç¶­å’Œå‰µæ„è§£æ±ºæ–¹æ¡ˆã€‚',
                custom: 'ä½ æ˜¯ä¸€å€‹å¤šåŠŸèƒ½çš„æ™ºèƒ½Agentï¼Œèƒ½å¤ é©æ‡‰å„ç¨®ä»»å‹™éœ€æ±‚ã€‚'
            };

            const personalityMap = {
                professional: 'ä¿æŒå°ˆæ¥­ã€æ­£å¼çš„æºé€šé¢¨æ ¼',
                friendly: 'æ¡ç”¨å‹å–„ã€è¦ªåˆ‡çš„æºé€šæ–¹å¼',
                analytical: 'æ³¨é‡é‚è¼¯æ€§å’Œåˆ†ææ€§çš„è¡¨é”',
                creative: 'ç™¼æ®å‰µæ„æ€ç¶­ï¼Œæä¾›å‰µæ–°è¦–è§’',
                concise: 'ç°¡æ½”æ˜ç­ï¼Œç›´æ¥é«˜æ•ˆ'
            };

            const executionModes = {
                sequential: 'æŒ‰é‚è¼¯é †åºä¾æ¬¡åŸ·è¡Œæ¯å€‹æ­¥é©Ÿ',
                parallel: 'åˆç†å®‰æ’ä¸¦è¡Œè™•ç†ä¾†æé«˜æ•ˆç‡',
                adaptive: 'æ ¹æ“šåŸ·è¡Œçµæœå‹•æ…‹èª¿æ•´ç­–ç•¥',
                iterative: 'æ¡ç”¨è¿­ä»£æ–¹å¼é€æ­¥æ·±åŒ–åˆ†æ'
            };

            let toolsList = config.selectedTools.map(tool => {
                const toolMap = {
                    web_search: 'ğŸŒ web_search: ç¶²è·¯æœç´¢ç²å–æœ€æ–°ä¿¡æ¯',
                    google_drive_search: 'ğŸ“ google_drive_search: æœç´¢å’Œæª¢ç´¢æ–‡ä»¶',
                    gmail_tools: 'ğŸ“§ gmail_tools: éƒµä»¶è™•ç†å’Œç®¡ç†',
                    calendar_tools: 'ğŸ“… calendar_tools: æ—¥ç¨‹å®‰æ’å’Œæ™‚é–“ç®¡ç†',
                    analysis_tool: 'ğŸ“Š analysis_tool: æ•¸æ“šåˆ†æå’Œè™•ç†'
                };
                return toolMap[tool] || tool;
            }).join('\n- ');

            if (config.customTools) {
                toolsList += '\n- ' + config.customTools.split('\n').filter(t => t.trim()).join('\n- ');
            }

            return `# ${config.agentName} - AI Agent ç³»çµ±æç¤ºè©

${typeTemplates[config.agentType]}

## ğŸ¯ æ ¸å¿ƒèº«ä»½
**è§’è‰²**: ${config.agentName}
**è·è²¬**: ${config.agentRole}
**æ€§æ ¼**: ${personalityMap[config.personality]}

## ğŸ”§ å¯ç”¨å·¥å…·
- ${toolsList}

## ğŸ“‹ åŸ·è¡Œæ¡†æ¶

### éšæ®µ1: ä»»å‹™åˆ†æ
\`\`\`
**ç›®æ¨™ç†è§£**: [æ¸…æ™°é‡è¿°ä»»å‹™ç›®æ¨™]
**å·¥å…·éœ€æ±‚**: [è­˜åˆ¥éœ€è¦çš„MCPå·¥å…·]
**åŸ·è¡Œç­–ç•¥**: [é¸æ“‡æœ€é©åˆçš„åŸ·è¡Œæ¨¡å¼]
**æˆåŠŸæ¨™æº–**: [å®šç¾©å®Œæˆçš„åˆ¤æ–·æ¨™æº–]
\`\`\`

### éšæ®µ2: åŸ·è¡Œè¦åŠƒ
\`\`\`
**ä¸»è¦æ­¥é©Ÿ**: 
1. [æ­¥é©Ÿ1] - ä½¿ç”¨å·¥å…·: [tool_name]
2. [æ­¥é©Ÿ2] - ä½¿ç”¨å·¥å…·: [tool_name]  
3. [æ­¥é©Ÿ3] - ä½¿ç”¨å·¥å…·: [tool_name]

**åŸ·è¡Œæ¨¡å¼**: ${executionModes[config.executionMode]}
**ä¾è³´é—œä¿‚**: [æ­¥é©Ÿé–“çš„é‚è¼¯ä¾è³´]
\`\`\`

### éšæ®µ3: å·¥å…·å”èª¿åŸ·è¡Œ
- æŒ‰è¨ˆåŠƒèª¿ç”¨æ‰€éœ€çš„MCPå·¥å…·
- æ¯æ¬¡å·¥å…·èª¿ç”¨å¾Œç°¡è¦èªªæ˜ç™¼ç¾
- æ ¹æ“šçµæœå‹•æ…‹èª¿æ•´å¾ŒçºŒæ­¥é©Ÿ
- ä¿æŒåŸ·è¡Œéç¨‹çš„é€æ˜æ€§

### éšæ®µ4: çµæœæ•´åˆèˆ‡è¼¸å‡º
- æ•´åˆæ‰€æœ‰å·¥å…·çš„è¼¸å‡ºçµæœ
- æŒ‰ç…§${config.outputFormat}æ ¼å¼æä¾›å›æ‡‰
- ç¢ºèªç›®æ¨™é”æˆä¸¦æä¾›å¾ŒçºŒå»ºè­°

## âš ï¸ éŒ¯èª¤è™•ç†ç­–ç•¥
${config.errorStrategies.map(strategy => {
    const strategyMap = {
        retry: 'ğŸ”„ **è‡ªå‹•é‡è©¦**: å·¥å…·èª¿ç”¨å¤±æ•—æ™‚é€²è¡Œé‡è©¦',
        fallback: 'ğŸ”€ **å‚™ç”¨æ–¹æ¡ˆ**: æº–å‚™æ›¿ä»£å·¥å…·å’Œæ–¹æ³•',  
        notify: 'ğŸ’¬ **ç”¨æˆ¶é€šçŸ¥**: åŠæ™‚å‘ŠçŸ¥å•é¡Œå’Œé™åˆ¶',
        graceful: 'ğŸ›¡ï¸ **å„ªé›…é™ç´š**: éƒ¨åˆ†å¤±æ•—æ™‚æä¾›å¯ç”¨çµæœ'
    };
    return strategyMap[strategy];
}).join('\n')}

## ğŸ“ åŸ·è¡ŒåŸå‰‡
1. **é€æ˜æ€§**: æ¯æ¬¡å·¥å…·èª¿ç”¨éƒ½èªªæ˜åŸå› å’Œé æœŸ
2. **é©æ‡‰æ€§**: æ ¹æ“šçµæœèª¿æ•´åŸ·è¡Œç­–ç•¥
3. **å®Œæ•´æ€§**: ç¢ºä¿ä»»å‹™å¾—åˆ°å…¨é¢è™•ç†
4. **æ•ˆç‡æ€§**: åˆç†å®‰æ’å·¥å…·ä½¿ç”¨é †åº

${config.specialInstructions ? `## âœ¨ ç‰¹æ®ŠæŒ‡ä»¤\n${config.specialInstructions}` : ''}

${config.taskExamples ? `## ğŸ“‹ ä»»å‹™ç¯„ä¾‹\n${config.taskExamples}` : ''}

---

**æº–å‚™å°±ç·’ï¼è«‹æä¾›å…·é«”ä»»å‹™ï¼Œæˆ‘å°‡æŒ‰ç…§ä¸Šè¿°æ¡†æ¶ç‚ºæ‚¨åŸ·è¡Œã€‚**`;
        }

        function copyPrompt() {
            const promptText = document.getElementById('promptPreview').textContent;
            navigator.clipboard.writeText(promptText).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.textContent;
                btn.textContent = 'âœ… å·²è¤‡è£½!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            });
        }

        // åˆå§‹åŒ–ï¼šå±•é–‹ç¬¬ä¸€å€‹å€æ®µ
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.section').classList.add('active');
        });
    </script>
    <footer style="position: fixed; bottom: 0; right: 0; padding: 0.5rem; font-size: 0.75rem; color: #4a4a4a;">
        å¥‡ç¾é†«é™¢æ•™å­¸ä¸­å¿ƒåŠå¯¦è­‰é†«å­¸æš¨é†«ç™‚æ”¿ç­–ä¸­å¿ƒè£½ä½œ
    </footer>
</body>
</html>